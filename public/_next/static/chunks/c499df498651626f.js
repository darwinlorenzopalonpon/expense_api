(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,i)=>{s.exports=e.r(76562)},60655,e=>{"use strict";e.s(["default",()=>n]);var s=e.i(43476),i=e.i(71645),t=e.i(18566),r=e.i(14091);function n(){let{user:e,logout:n}=(0,r.useUser)(),l=(0,t.useRouter)(),[c,d]=(0,i.useState)(!0),[o,a]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(!e)return void l.push("/");h()},[e,l]);let h=async()=>{try{let s=await fetch("".concat("http://localhost:3000","/api/v1/expenses"),{headers:{"X-User-ID":e.id}}),i=await s.json();a(i)}catch(e){console.error("Error fetching expenses: ",e)}finally{d(!1)}};return c||!e?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Expenses"}),(0,s.jsxs)("p",{children:["Welcome, ",e.name]}),(0,s.jsxs)("p",{children:["Email: ",e.email]}),(0,s.jsxs)("p",{children:["Role: ",e.role]}),(0,s.jsx)("button",{onClick:()=>n(),children:"Logout"}),(0,s.jsxs)("div",{children:[o.map(e=>{var i;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:e.description}),(0,s.jsxs)("p",{children:["Amount: ",e.amount]}),(0,s.jsxs)("p",{children:["State: ",e.state]}),(0,s.jsxs)("p",{children:["Submitted at: ",e.submitted_at]}),(0,s.jsxs)("p",{children:["Reviewed at: ",e.reviewed_at]}),(0,s.jsxs)("p",{children:["Employee: ",e.employee.name]}),(0,s.jsxs)("p",{children:["Reviewer: ",null==(i=e.reviewer)?void 0:i.name]})]},e.id)}),0===o.length&&(0,s.jsx)("p",{children:"No expenses found"})]})]})}}]);