(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},88081,e=>{"use strict";e.s(["default",()=>t]);let t=class{getApiUrl(e){return"".concat(this.apiUrl).concat(e)}fetchWithUserId(e,t){return fetch("".concat(this.apiUrl).concat(e),{headers:{"X-User-ID":t}})}async fetchUsers(){return(await fetch(this.getApiUrl("/api/v1/users"))).json()}async fetchExpenses(e){return(await this.fetchWithUserId("/api/v1/expenses",e)).json()}constructor(){this.apiUrl="http://localhost:3000"}}},60655,e=>{"use strict";e.s(["default",()=>c]);var t=e.i(43476),s=e.i(71645),r=e.i(18566),i=e.i(14091),n=e.i(88081);function c(){let{user:e,logout:c}=(0,i.useUser)(),h=(0,r.useRouter)(),[l,d]=(0,s.useState)(!0),[a,o]=(0,s.useState)([]),x=new n.default;(0,s.useEffect)(()=>{if(!e)return void h.push("/");u()},[e,h]);let u=async()=>{try{let t=await x.fetchExpenses(e.id);o(t)}catch(e){console.error("Error fetching expenses: ",e)}finally{d(!1)}};return l||!e?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"Expenses"}),(0,t.jsxs)("p",{children:["Welcome, ",e.name]}),(0,t.jsxs)("p",{children:["Email: ",e.email]}),(0,t.jsxs)("p",{children:["Role: ",e.role]}),(0,t.jsx)("button",{onClick:()=>c(),children:"Logout"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Description"}),(0,t.jsx)("th",{children:"Amount"}),(0,t.jsx)("th",{children:"State"}),(0,t.jsx)("th",{children:"Submitted at"}),(0,t.jsx)("th",{children:"Reviewed at"}),(0,t.jsx)("th",{children:"Employee"}),(0,t.jsx)("th",{children:"Reviewer"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:a.map(e=>{var s;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.description}),(0,t.jsx)("td",{children:e.amount}),(0,t.jsx)("td",{children:e.state}),(0,t.jsx)("td",{children:e.submitted_at}),(0,t.jsx)("td",{children:e.reviewed_at}),(0,t.jsx)("td",{children:e.employee.name}),(0,t.jsx)("td",{children:null==(s=e.reviewer)?void 0:s.name}),(0,t.jsx)("td",{})]},e.id)})})]}),0===a.length&&(0,t.jsx)("p",{children:"No expenses found"})]})]})}}]);