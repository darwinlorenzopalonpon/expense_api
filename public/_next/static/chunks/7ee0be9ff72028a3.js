(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},60655,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),s=e.i(71645),i=e.i(18566),r=e.i(14091);function n(){let{user:e,logout:n}=(0,r.useUser)(),d=(0,i.useRouter)(),[l,c]=(0,s.useState)(!0),[h,o]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(!e)return void d.push("/");a()},[e,d]);let a=async()=>{try{let t=await fetch("".concat("http://localhost:3000","/api/v1/expenses"),{headers:{"X-User-ID":e.id}}),s=await t.json();o(s)}catch(e){console.error("Error fetching expenses: ",e)}finally{c(!1)}};return l||!e?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"Expenses"}),(0,t.jsxs)("p",{children:["Welcome, ",e.name]}),(0,t.jsxs)("p",{children:["Email: ",e.email]}),(0,t.jsxs)("p",{children:["Role: ",e.role]}),(0,t.jsx)("button",{onClick:()=>n(),children:"Logout"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Description"}),(0,t.jsx)("th",{children:"Amount"}),(0,t.jsx)("th",{children:"State"}),(0,t.jsx)("th",{children:"Submitted at"}),(0,t.jsx)("th",{children:"Reviewed at"}),(0,t.jsx)("th",{children:"Employee"}),(0,t.jsx)("th",{children:"Reviewer"})]})}),(0,t.jsx)("tbody",{children:h.map(e=>{var s;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.description}),(0,t.jsx)("td",{children:e.amount}),(0,t.jsx)("td",{children:e.state}),(0,t.jsx)("td",{children:e.submitted_at}),(0,t.jsx)("td",{children:e.reviewed_at}),(0,t.jsx)("td",{children:e.employee.name}),(0,t.jsx)("td",{children:null==(s=e.reviewer)?void 0:s.name})]},e.id)})})]}),0===h.length&&(0,t.jsx)("p",{children:"No expenses found"})]})]})}}]);